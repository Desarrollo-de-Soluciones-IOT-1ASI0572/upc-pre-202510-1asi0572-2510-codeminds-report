# Capítulo III: Requirements Specification

## 3.1. To-Be Scenario Mapping.

### To-Be Scenario Mapping – User Persona: Padre de Familia

![toBePadre](/assets/chapter3/to-be_scenario_map_padre.png)

### To-Be Scenario Mapping – User Persona: Conductor

![toBeConductor](/assets/chapter3/to-be_scenarip_map_conductor.png)

## 3.2. User Stories.
###### Tabla de épicas establecidas para las historias de usuarios.

| Epic ID | Título                                                             |
|---------|--------------------------------------------------------------------|
| EP01    | Experiencia en el uso general de la aplicación                     |
| EP02    | Experiencia en el control de estudiantes y vehículos               |
| EP03    | Desarrollo de la aplicación móvil para padres y conductores        |
| EP04    | Technical histories                                                |
| EP05    | Sitio web para visualización y administración centralizada         |

###### Tabla de historias de usuario

| Epic / Story ID | Título                                                        | Descripción                                                                                                                                                          | Criterios de Aceptación                                                                                                                                                                                                                                                                                                                                                                                                                                              | Relacionado con (Epic ID) |
|-----------------|---------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|
| US01            | Interfaz de inicio clara y atractiva en la app móvil          | **Como** usuario, **quiero** ver una introducción clara y visual al abrir la aplicación, **para** entender rápidamente el propósito y cómo usar el sistema.          | ***Scenario 1***: El usuario abre la app por primera vez<br>**Dado** que el usuario descarga e inicia la app,<br>**Cuando** se carga por primera vez,<br>**Entonces** debe mostrarse una guía interactiva que explique el uso del sistema.<br><br>***Scenario 2***: El usuario desea volver a ver la introducción<br>**Dado** que el usuario selecciona "Ayuda",<br>**Cuando** accede desde el menú,<br>**Entonces** puede ver nuevamente la guía de introducción.   | EP01                      |
| US02            | Registro automático mediante pulseras RFID                    | **Como** conductor, **quiero** que los estudiantes se registren automáticamente al subir y bajar mediante pulseras RFID, **para** llevar un control seguro.          | ***Scenario 1***: El estudiante sube al vehículo<br>**Dado** que tiene una pulsera válida,<br>**Cuando** pasa por el lector RFID,<br>**Entonces** se registra su ingreso con fecha y hora.<br><br>***Scenario 2***: El estudiante baja del vehículo<br>**Dado** que sale por la puerta con lector,<br>**Cuando** escanea la pulsera,<br>**Entonces** se registra su salida.                                                                                          | EP02                      |
| US03            | Notificación a padres al subir y bajar del transporte         | **Como** padre, **quiero** recibir notificaciones cuando mi hijo suba o baje del vehículo, **para** estar tranquilo sobre su estado.                                 | ***Scenario 1***: El sistema detecta el ingreso del estudiante<br>**Dado** que se escanea la pulsera RFID,<br>**Cuando** el evento se registra,<br>**Entonces** se envía una notificación con hora y ubicación.<br><br>***Scenario 2***: El sistema detecta la salida del estudiante<br>**Dado** que se escanea la pulsera al bajar,<br>**Cuando** se genera el evento,<br>**Entonces** se notifica al padre en la app móvil.                                        | EP01                      |
| US04            | Visualización en mapa de la ruta y ubicación del vehículo     | **Como** padre, **quiero** ver en tiempo real la ubicación del vehículo en un mapa, **para** saber en qué parte del trayecto se encuentra mi hijo.                   | ***Scenario 1***: El usuario accede a la app móvil<br>**Dado** que el GPS del vehículo está activo,<br>**Cuando** abre el mapa,<br>**Entonces** debe ver el vehículo en tiempo real con actualizaciones cada 5 segundos.<br><br>***Scenario 2***: El usuario quiere ver paradas<br>**Dado** que hay rutas predefinidas,<br>**Cuando** visualiza el recorrido,<br>**Entonces** debe ver marcadores de cada parada establecida.                                        | EP01                      |
| US05            | Control de aforo con sensores                                 | **Como** administrador, **quiero** registrar la cantidad de estudiantes en cada viaje, **para** evitar sobreaforo y cumplir con normas de seguridad.                 | ***Scenario 1***: Un estudiante sube al vehículo<br>**Dado** que el sensor está activo,<br>**Cuando** detecta movimiento,<br>**Entonces** suma 1 al contador de aforo.<br><br>***Scenario 2***: Se supera el límite de aforo<br>**Dado** que el vehículo está lleno,<br>**Cuando** se intenta subir más estudiantes,<br>**Entonces** el conductor recibe una alerta visual o auditiva.                                                                               | EP02                      |
| US06            | Registro y alerta por exceso de velocidad                     | **Como** administrador, **quiero** detectar y registrar excesos de velocidad, **para** mejorar la seguridad del transporte escolar.                                  | ***Scenario 1***: El vehículo supera los 50 km/h<br>**Dado** que el sistema mide velocidad constantemente,<br>**Cuando** se detecta exceso,<br>**Entonces** se genera un log con fecha y hora.<br><br>***Scenario 2***: Exceso repetido<br>**Dado** que se excede el límite varias veces en el día,<br>**Cuando** se genera el reporte,<br>**Entonces** debe destacarse en color rojo para advertencia.                                                              | EP02                      |
| US07            | Panel de control web para instituciones                       | **Como** administrador de colegio, **quiero** tener un panel web con reportes de asistencia, velocidad y ubicación, **para** tomar decisiones informadas.            | ***Scenario 1***: El administrador accede al sitio web<br>**Dado** que tiene acceso autorizado,<br>**Cuando** entra al dashboard,<br>**Entonces** debe ver gráficos de asistencia, alertas de velocidad y rutas recientes.<br><br>***Scenario 2***: Quiere exportar información<br>**Dado** que hay reportes disponibles,<br>**Cuando** hace clic en exportar,<br>**Entonces** debe poder descargar un archivo en formato Excel o PDF.                               | EP05                      |
| US08            | App móvil para conductores con resumen de estudiantes         | **Como** conductor, **quiero** ver una lista de estudiantes a bordo en tiempo real, **para** tener control del grupo durante el viaje.                               | ***Scenario 1***: El conductor inicia un nuevo viaje<br>**Dado** que los estudiantes escanean su pulsera,<br>**Cuando** revisa la lista,<br>**Entonces** debe ver nombre, hora de ingreso y si ya descendieron.<br><br>***Scenario 2***: Se reporta una ausencia<br>**Dado** que un estudiante no se presenta,<br>**Cuando** se cierra el viaje,<br>**Entonces** se marca como "no abordó".                                                                          | EP03                      |
| US09            | Aplicación para padres con historial de viajes                | **Como** padre, **quiero** consultar un historial de viajes de mi hijo, **para** saber cuándo y cómo se movilizó en días anteriores.                                 | ***Scenario 1***: El padre accede al historial<br>**Dado** que su hijo usó el transporte,<br>**Cuando** accede a la app,<br>**Entonces** puede ver un listado con fechas, horas y rutas.<br><br>***Scenario 2***: Quiere filtrar por fechas<br>**Dado** que hay muchos registros,<br>**Cuando** selecciona un rango,<br>**Entonces** se muestran solo los viajes correspondientes.                                                                                   | EP03                      |
| US10            | Generación de reportes automáticos                            | **Como** sistema, **quiero** generar automáticamente reportes semanales de uso, asistencia y velocidad, **para** enviar a las instituciones y padres.                | ***Scenario 1***: Se genera un informe semanal<br>**Dado** que se completa la semana,<br>**Cuando** llega el domingo,<br>**Entonces** se envía un reporte PDF a los administradores y padres registrados.<br><br>***Scenario 2***: El reporte se puede configurar<br>**Dado** que el usuario configura frecuencia,<br>**Cuando** selecciona “cada 15 días”,<br>**Entonces** el sistema respeta esa frecuencia.                                                       | EP05                      |
| US11            | Integración de lector RFID con microcontrolador               | **Como** desarrollador, **quiero** conectar y configurar el lector RFID con el backend, **para** registrar eventos en tiempo real.                                   | ***Scenario 1***: El microcontrolador recibe una señal<br>**Dado** que el lector escanea una pulsera,<br>**Cuando** se detecta un UID válido,<br>**Entonces** el backend debe registrar el evento correctamente.<br><br>***Scenario 2***: El sistema rechaza UID inválidos<br>**Dado** que se usa una pulsera no registrada,<br>**Cuando** se escanea,<br>**Entonces** no se guarda el evento y se muestra una alerta.                                               | EP04                      |
| US12            | Comunicación entre app y backend mediante API REST            | **Como** desarrollador, **quiero** que la app móvil se comunique con el backend por medio de API segura, **para** intercambiar datos de estudiantes y vehículos.     | ***Scenario 1***: La app solicita datos<br>**Dado** que se inicia sesión correctamente,<br>**Cuando** se hace una petición GET a /estudiantes,<br>**Entonces** se deben recibir los datos con código 200.<br><br>***Scenario 2***: La API maneja errores<br>**Dado** que se envía una solicitud incorrecta,<br>**Cuando** se recibe un código 400 o 500,<br>**Entonces** la app debe mostrar un mensaje adecuado.                                                    | EP04                      |
| US13            | Implementación de seguridad JWT para usuarios                 | **Como** desarrollador, **quiero** usar JWT para autenticar padres y conductores, **para** proteger el acceso a la aplicación.                                       | ***Scenario 1***: Un usuario inicia sesión<br>**Dado** que proporciona credenciales válidas,<br>**Cuando** el backend las verifica,<br>**Entonces** debe generarse un token JWT válido.<br><br>***Scenario 2***: El token es requerido<br>**Dado** que el usuario accede a un recurso,<br>**Cuando** no tiene token,<br>**Entonces** se debe bloquear el acceso.                                                                                                     | EP04                      |
| US14            | Almacenamiento de ubicaciones en base de datos geoespacial    | **Como** desarrollador, **quiero** guardar coordenadas GPS en una base de datos geoespacial, **para** consultas eficientes de trayectos.                             | ***Scenario 1***: Se recibe una coordenada<br>**Dado** que el GPS transmite datos,<br>**Cuando** se guarda la ubicación,<br>**Entonces** se almacena como tipo "point" con lat/lon.<br><br>***Scenario 2***: Se realiza consulta por radio<br>**Dado** que se desea ver vehículos en un rango,<br>**Cuando** se consulta con radius,<br>**Entonces** solo se devuelven los que están dentro.                                                                         | EP04                      |
| US15            | Visualización de rutas predefinidas                           | **Como** desarrollador, **quiero** que el sistema administre rutas predefinidas para cada unidad, **para** comparar con el recorrido real y detectar desviaciones.   | ***Scenario 1***: El backend contiene rutas<br>**Dado** que se cargan las rutas desde el panel web,<br>**Cuando** se consulta el historial del vehículo,<br>**Entonces** se debe comparar la ruta real vs la predefinida.<br><br>***Scenario 2***: Se detecta desviación<br>**Dado** que el vehículo sale del camino esperado,<br>**Cuando** se excede cierta distancia,<br>**Entonces** se genera una alerta o log.                                                 | EP04                      |
| US16            | Configuración manual de rutas por parte del conductor         | **Como** conductor, **quiero** modificar manualmente la ruta asignada desde la app, **para** adaptarme a situaciones de desvío o tráfico inesperado.                 | ***Scenario 1***: El conductor desea cambiar la ruta<br>**Dado** que detecta un desvío necesario,<br>**Cuando** accede a la configuración de ruta,<br>**Entonces** puede seleccionar otra ruta preestablecida o registrar una nueva.<br><br>***Scenario 2***: El cambio se registra<br>**Dado** que se realiza una modificación,<br>**Cuando** se guarda,<br>**Entonces** el sistema notifica a los padres sobre la ruta actualizada.                                | EP03                      |
| US17            | Opción de marcar estudiantes como ausentes desde la app       | **Como** conductor, **quiero** marcar como ausente a un estudiante desde la aplicación, **para** que el sistema no lo espere innecesariamente.                       | ***Scenario 1***: El estudiante no se presenta<br>**Dado** que ha pasado el tiempo de espera,<br>**Cuando** el conductor lo marca como ausente,<br>**Entonces** el sistema omite su punto de recogida en esa jornada.<br><br>***Scenario 2***: El padre es notificado<br>**Dado** que su hijo fue marcado como ausente,<br>**Cuando** se registra el evento,<br>**Entonces** el padre recibe un mensaje informativo.                                                 | EP03                      |
| US18            | Acceso restringido según rol de usuario en sitio web          | **Como** desarrollador, **quiero** implementar control de acceso por rol (padre, conductor, administrador), **para** proteger la información sensible.               | ***Scenario 1***: Un padre accede al panel<br>**Dado** que tiene rol de “padre”,<br>**Cuando** inicia sesión,<br>**Entonces** solo puede ver información de sus hijos.<br><br>***Scenario 2***: Un administrador accede<br>**Dado** que tiene privilegios,<br>**Cuando** inicia sesión,<br>**Entonces** puede ver reportes de todos los vehículos y estudiantes.                                                                                                     | EP04                      |
| US19            | Resumen de alertas críticas en el panel web                   | **Como** administrador, **quiero** ver un resumen de alertas de velocidad, aforo y desvíos, **para** tomar acciones preventivas rápidamente.                         | ***Scenario 1***: El panel muestra alertas del día<br>**Dado** que han ocurrido eventos,<br>**Cuando** se accede al dashboard,<br>**Entonces** se muestran en orden de prioridad (rojo, naranja, verde).<br><br>***Scenario 2***: Las alertas pueden filtrarse<br>**Dado** que hay muchas,<br>**Cuando** se usa el filtro por tipo,<br>**Entonces** solo se muestran las del tipo seleccionado.                                                                      | EP05                      |
| US20            | Soporte multilenguaje en la aplicación móvil                  | **Como** padre, **quiero** poder elegir el idioma de la aplicación, **para** comprender mejor la interfaz según mi preferencia.                                      | ***Scenario 1***: El usuario accede a configuración<br>**Dado** que la app soporta varios idiomas,<br>**Cuando** selecciona su idioma preferido,<br>**Entonces** toda la interfaz se actualiza.<br><br>***Scenario 2***: La selección se guarda<br>**Dado** que el usuario cambia el idioma,<br>**Cuando** reinicia la app,<br>**Entonces** esta debe recordar su configuración previa.                                                                              | EP01                      |


## 3.3. Impact Mapping.

![toBePropietario](/assets/chapter3/impactMap2025.PNG)

## 3.4. Product Backlog.

El Product Backlog es una lista priorizada de todas las funcionalidades, mejoras y tareas necesarias para el desarrollo de un producto o servicio. En esta sección, presentaremos nuestro Product Backlog, que incluye todas las historias de usuario identificadas en la sección anterior, así como otras tareas y actividades necesarias para el desarrollo.

###### Tabla de Product Backlog
| # Order | User Story Id | Title                                             | Description                                                                                 | Story Points (1 / 2 / 3 / 5 / 8) |
|---------|---------------|---------------------------------------------------|---------------------------------------------------------------------------------------------|----------------------------------|
| 1       | US02          | Registro automático mediante pulseras RFID        | Como conductor, quiero registrar asistencia automáticamente con RFID.                       | 5                                |
| 2       | US03          | Notificación a padres por ingreso/salida          | Como padre, quiero recibir alertas cuando mi hijo sube o baja del transporte.               | 2                                |
| 3       | US04          | Visualización de ubicación en tiempo real         | Como padre, quiero ver en un mapa la ubicación en tiempo real del vehículo.                 | 3                                |
| 4       | US05          | Control de aforo con sensores                     | Como administrador, quiero conocer la cantidad de pasajeros en tiempo real.                 | 3                                |
| 5       | US06          | Registro de velocidad y alertas                   | Como administrador, quiero registrar y visualizar excesos de velocidad.                     | 5                                |
| 6       | US07          | Panel de control web para instituciones           | Como administrador, quiero tener un sitio web con reportes de uso.                          | 5                                |
| 7       | US08          | Lista de estudiantes a bordo para conductor       | Como conductor, quiero ver qué estudiantes están actualmente en la unidad.                  | 2                                |
| 8       | US09          | Historial de viajes en app de padres              | Como padre, quiero revisar cuándo y por qué rutas viajó mi hijo.                            | 3                                |
| 9       | US01          | Interfaz de inicio en aplicación móvil            | Como usuario, quiero una introducción visual clara al sistema.                              | 2                                |
| 10      | US10          | Reportes automáticos de asistencia y uso          | Como sistema, quiero generar reportes automáticos y enviarlos.                              | 5                                |
| 11      | US11          | Integración del lector RFID al backend            | Como desarrollador, quiero integrar el lector RFID con la base de datos en tiempo real.     | 5                                |
| 12      | US12          | API REST para comunicación app-backend            | Como desarrollador, quiero que la app consuma datos del backend con seguridad.              | 3                                |
| 13      | US13          | Autenticación con JWT                             | Como desarrollador, quiero implementar JWT para proteger el acceso de usuarios.             | 3                                |
| 14      | US14          | Almacenamiento en base geoespacial                | Como desarrollador, quiero guardar coordenadas GPS en base de datos espacial.               | 5                                |
| 15      | US15          | Visualización y comparación de rutas predefinidas | Como desarrollador, quiero comparar rutas reales vs predefinidas para detectar desvíos.     | 5                                |
| 16      | US16          | Modificación manual de ruta por conductor         | Como conductor, quiero cambiar manualmente la ruta si hay desvíos o tráfico.                | 3                                |
| 17      | US17          | Marcar estudiantes ausentes desde la app          | Como conductor, quiero marcar ausencias desde la app para optimizar el trayecto.            | 2                                |
| 18      | US18          | Acceso con roles en el panel web                  | Como desarrollador, quiero controlar el acceso según el rol del usuario.                    | 3                                |
| 19      | US19          | Resumen de alertas en panel web                   | Como administrador, quiero ver alertas importantes agrupadas y ordenadas.                   | 3                                |
| 20      | US20          | Soporte multilenguaje en app móvil                | Como padre, quiero cambiar el idioma de la aplicación según mi preferencia.                 | 2                                |
