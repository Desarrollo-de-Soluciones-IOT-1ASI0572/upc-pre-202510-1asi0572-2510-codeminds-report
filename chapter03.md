# Capítulo III: Requirements Specification

## 3.1. To-Be Scenario Mapping.

### To-Be Scenario Mapping – User Persona: Padre de Familia

![toBePadre](/assets/chapter3/to-be_scenario_map_padre.png)

### To-Be Scenario Mapping – User Persona: Conductor

![toBeConductor](/assets/chapter3/to-be_scenarip_map_conductor.png)

## 3.2. User Stories.
###### Tabla de épicas establecidas para las historias de usuarios.

| Epic ID | Título                                                             |
|---------|--------------------------------------------------------------------|
| EP01    | Experiencia en el uso general de la aplicación                     |
| EP02    | Experiencia en el control de estudiantes y vehículos               |
| EP03    | Desarrollo de la aplicación móvil para padres y conductores        |
| EP04    | Technical histories                                                |
| EP05    | Sitio web para visualización y administración centralizada         |

###### Tabla de historias de usuario

| Epic / Story ID | Título                                                      | Descripción                                                                                                                                                        | Criterios de Aceptación                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Relacionado con (Epic ID) |
|-----------------|-------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|
| US01            | Interfaz de inicio clara y atractiva en la app móvil        | **Como** usuario, **quiero** ver una introducción clara y visual al abrir la aplicación, **para** entender rápidamente el propósito y cómo usar el sistema.        | ***Scenario 1***: El usuario abre la app por primera vez<br>**Dado** que el usuario descarga e inicia la app,<br>**Cuando** se carga por primera vez,<br>**Entonces** debe mostrarse una guía interactiva que explique el uso del sistema.<br><br>***Scenario 2***: El usuario desea volver a ver la introducción<br>**Dado** que el usuario selecciona "Ayuda",<br>**Cuando** accede desde el menú,<br>**Entonces** puede ver nuevamente la guía de introducción.                                                                                                                                                                    | EP01                      |
| US02            | Registro automático mediante pulseras RFID                  | **Como** conductor, **quiero** que los estudiantes se registren automáticamente al subir y bajar mediante pulseras RFID, **para** llevar un control seguro.        | ***Scenario 1***: El estudiante sube al vehículo<br>**Dado** que tiene una pulsera válida,<br>**Cuando** pasa por el lector RFID,<br>**Entonces** se registra su ingreso con fecha y hora.<br><br>***Scenario 2***: El estudiante baja del vehículo<br>**Dado** que sale por la puerta con lector,<br>**Cuando** escanea la pulsera,<br>**Entonces** se registra su salida.                                                                                                                                                                                                                                                           | EP02                      |
| US03            | Notificación a padres al subir y bajar del transporte       | **Como** padre, **quiero** recibir notificaciones cuando mi hijo suba o baje del vehículo, **para** estar tranquilo sobre su estado.                               | ***Scenario 1***: El sistema detecta el ingreso del estudiante<br>**Dado** que se escanea la pulsera RFID,<br>**Cuando** el evento se registra,<br>**Entonces** se envía una notificación con hora y ubicación.<br><br>***Scenario 2***: El sistema detecta la salida del estudiante<br>**Dado** que se escanea la pulsera al bajar,<br>**Cuando** se genera el evento,<br>**Entonces** se notifica al padre en la app móvil.                                                                                                                                                                                                         | EP01                      |
| US04            | Visualización en mapa de la ruta y ubicación del vehículo   | **Como** padre, **quiero** ver en tiempo real la ubicación del vehículo en un mapa, **para** saber en qué parte del trayecto se encuentra mi hijo.                 | ***Scenario 1***: El usuario accede a la app móvil<br>**Dado** que el GPS del vehículo está activo,<br>**Cuando** abre el mapa,<br>**Entonces** debe ver el vehículo en tiempo real con actualizaciones cada 5 segundos.<br><br>***Scenario 2***: El usuario quiere ver paradas<br>**Dado** que hay rutas predefinidas,<br>**Cuando** visualiza el recorrido,<br>**Entonces** debe ver marcadores de cada parada establecida.                                                                                                                                                                                                         | EP01                      |
| US05            | Control de aforo con sensores                               | **Como** administrador, **quiero** registrar la cantidad de estudiantes en cada viaje, **para** evitar sobreaforo y cumplir con normas de seguridad.               | ***Scenario 1***: Un estudiante sube al vehículo<br>**Dado** que el sensor está activo,<br>**Cuando** detecta movimiento,<br>**Entonces** suma 1 al contador de aforo.<br><br>***Scenario 2***: Se supera el límite de aforo<br>**Dado** que el vehículo está lleno,<br>**Cuando** se intenta subir más estudiantes,<br>**Entonces** el conductor recibe una alerta visual o auditiva.                                                                                                                                                                                                                                                | EP02                      |
| US06            | Registro y alerta por exceso de velocidad                   | **Como** administrador, **quiero** detectar y registrar excesos de velocidad, **para** mejorar la seguridad del transporte escolar.                                | ***Scenario 1***: El vehículo supera los 50 km/h<br>**Dado** que el sistema mide velocidad constantemente,<br>**Cuando** se detecta exceso,<br>**Entonces** se genera un log con fecha y hora.<br><br>***Scenario 2***: Exceso repetido<br>**Dado** que se excede el límite varias veces en el día,<br>**Cuando** se genera el reporte,<br>**Entonces** debe destacarse en color rojo para advertencia.                                                                                                                                                                                                                               | EP02                      |
| US07            | Panel de control web para instituciones                     | **Como** administrador de colegio, **quiero** tener un panel web con reportes de asistencia, velocidad y ubicación, **para** tomar decisiones informadas.          | ***Scenario 1***: El administrador accede al sitio web<br>**Dado** que tiene acceso autorizado,<br>**Cuando** entra al dashboard,<br>**Entonces** debe ver gráficos de asistencia, alertas de velocidad y rutas recientes.<br><br>***Scenario 2***: Quiere exportar información<br>**Dado** que hay reportes disponibles,<br>**Cuando** hace clic en exportar,<br>**Entonces** debe poder descargar un archivo en formato Excel o PDF.                                                                                                                                                                                                | EP05                      |
| US08            | App móvil para conductores con resumen de estudiantes       | **Como** conductor, **quiero** ver una lista de estudiantes a bordo en tiempo real, **para** tener control del grupo durante el viaje.                             | ***Scenario 1***: El conductor inicia un nuevo viaje<br>**Dado** que los estudiantes escanean su pulsera,<br>**Cuando** revisa la lista,<br>**Entonces** debe ver nombre, hora de ingreso y si ya descendieron.<br><br>***Scenario 2***: Se reporta una ausencia<br>**Dado** que un estudiante no se presenta,<br>**Cuando** se cierra el viaje,<br>**Entonces** se marca como "no abordó".                                                                                                                                                                                                                                           | EP03                      |
| US09            | Aplicación para padres con historial de viajes              | **Como** padre, **quiero** consultar un historial de viajes de mi hijo, **para** saber cuándo y cómo se movilizó en días anteriores.                               | ***Scenario 1***: El padre accede al historial<br>**Dado** que su hijo usó el transporte,<br>**Cuando** accede a la app,<br>**Entonces** puede ver un listado con fechas, horas y rutas.<br><br>***Scenario 2***: Quiere filtrar por fechas<br>**Dado** que hay muchos registros,<br>**Cuando** selecciona un rango,<br>**Entonces** se muestran solo los viajes correspondientes.                                                                                                                                                                                                                                                    | EP03                      |
| US10            | Generación de reportes automáticos                          | **Como** sistema, **quiero** generar automáticamente reportes semanales de uso, asistencia y velocidad, **para** enviar a las instituciones y padres.              | ***Scenario 1***: Se genera un informe semanal<br>**Dado** que se completa la semana,<br>**Cuando** llega el domingo,<br>**Entonces** se envía un reporte PDF a los administradores y padres registrados.<br><br>***Scenario 2***: El reporte se puede configurar<br>**Dado** que el usuario configura frecuencia,<br>**Cuando** selecciona “cada 15 días”,<br>**Entonces** el sistema respeta esa frecuencia.                                                                                                                                                                                                                        | EP05                      |
| US11            | Integración de lector RFID con microcontrolador             | **Como** desarrollador, **quiero** conectar y configurar el lector RFID con el backend, **para** registrar eventos en tiempo real.                                 | ***Scenario 1***: El microcontrolador recibe una señal<br>**Dado** que el lector escanea una pulsera,<br>**Cuando** se detecta un UID válido,<br>**Entonces** el backend debe registrar el evento correctamente.<br><br>***Scenario 2***: El sistema rechaza UID inválidos<br>**Dado** que se usa una pulsera no registrada,<br>**Cuando** se escanea,<br>**Entonces** no se guarda el evento y se muestra una alerta.                                                                                                                                                                                                                | EP04                      |
| US12            | Comunicación entre app y backend mediante API REST          | **Como** desarrollador, **quiero** que la app móvil se comunique con el backend por medio de API segura, **para** intercambiar datos de estudiantes y vehículos.   | ***Scenario 1***: La app solicita datos<br>**Dado** que se inicia sesión correctamente,<br>**Cuando** se hace una petición GET a /estudiantes,<br>**Entonces** se deben recibir los datos con código 200.<br><br>***Scenario 2***: La API maneja errores<br>**Dado** que se envía una solicitud incorrecta,<br>**Cuando** se recibe un código 400 o 500,<br>**Entonces** la app debe mostrar un mensaje adecuado.                                                                                                                                                                                                                     | EP04                      |
| US13            | Implementación de seguridad JWT para usuarios               | **Como** desarrollador, **quiero** usar JWT para autenticar padres y conductores, **para** proteger el acceso a la aplicación.                                     | ***Scenario 1***: Un usuario inicia sesión<br>**Dado** que proporciona credenciales válidas,<br>**Cuando** el backend las verifica,<br>**Entonces** debe generarse un token JWT válido.<br><br>***Scenario 2***: El token es requerido<br>**Dado** que el usuario accede a un recurso,<br>**Cuando** no tiene token,<br>**Entonces** se debe bloquear el acceso.                                                                                                                                                                                                                                                                      | EP04                      |
| US14            | Almacenamiento de ubicaciones en base de datos geoespacial  | **Como** desarrollador, **quiero** guardar coordenadas GPS en una base de datos geoespacial, **para** consultas eficientes de trayectos.                           | ***Scenario 1***: Se recibe una coordenada<br>**Dado** que el GPS transmite datos,<br>**Cuando** se guarda la ubicación,<br>**Entonces** se almacena como tipo "point" con lat/lon.<br><br>***Scenario 2***: Se realiza consulta por radio<br>**Dado** que se desea ver vehículos en un rango,<br>**Cuando** se consulta con radius,<br>**Entonces** solo se devuelven los que están dentro.                                                                                                                                                                                                                                          | EP04                      |
| US15            | Visualización de rutas predefinidas                         | **Como** desarrollador, **quiero** que el sistema administre rutas predefinidas para cada unidad, **para** comparar con el recorrido real y detectar desviaciones. | ***Scenario 1***: El backend contiene rutas<br>**Dado** que se cargan las rutas desde el panel web,<br>**Cuando** se consulta el historial del vehículo,<br>**Entonces** se debe comparar la ruta real vs la predefinida.<br><br>***Scenario 2***: Se detecta desviación<br>**Dado** que el vehículo sale del camino esperado,<br>**Cuando** se excede cierta distancia,<br>**Entonces** se genera una alerta o log.                                                                                                                                                                                                                  | EP04                      |
| US16            | Configuración manual de rutas por parte del conductor       | **Como** conductor, **quiero** modificar manualmente la ruta asignada desde la app, **para** adaptarme a situaciones de desvío o tráfico inesperado.               | ***Scenario 1***: El conductor desea cambiar la ruta<br>**Dado** que detecta un desvío necesario,<br>**Cuando** accede a la configuración de ruta,<br>**Entonces** puede seleccionar otra ruta preestablecida o registrar una nueva.<br><br>***Scenario 2***: El cambio se registra<br>**Dado** que se realiza una modificación,<br>**Cuando** se guarda,<br>**Entonces** el sistema notifica a los padres sobre la ruta actualizada.                                                                                                                                                                                                 | EP03                      |
| US17            | Opción de marcar estudiantes como ausentes desde la app     | **Como** conductor, **quiero** marcar como ausente a un estudiante desde la aplicación, **para** que el sistema no lo espere innecesariamente.                     | ***Scenario 1***: El estudiante no se presenta<br>**Dado** que ha pasado el tiempo de espera,<br>**Cuando** el conductor lo marca como ausente,<br>**Entonces** el sistema omite su punto de recogida en esa jornada.<br><br>***Scenario 2***: El padre es notificado<br>**Dado** que su hijo fue marcado como ausente,<br>**Cuando** se registra el evento,<br>**Entonces** el padre recibe un mensaje informativo.                                                                                                                                                                                                                  | EP03                      |
| US18            | Acceso restringido según rol de usuario en sitio web        | **Como** desarrollador, **quiero** implementar control de acceso por rol (padre, conductor, administrador), **para** proteger la información sensible.             | ***Scenario 1***: Un padre accede al panel<br>**Dado** que tiene rol de “padre”,<br>**Cuando** inicia sesión,<br>**Entonces** solo puede ver información de sus hijos.<br><br>***Scenario 2***: Un administrador accede<br>**Dado** que tiene privilegios,<br>**Cuando** inicia sesión,<br>**Entonces** puede ver reportes de todos los vehículos y estudiantes.                                                                                                                                                                                                                                                                      | EP04                      |
| US19            | Resumen de alertas críticas en el panel web                 | **Como** administrador, **quiero** ver un resumen de alertas de velocidad, aforo y desvíos, **para** tomar acciones preventivas rápidamente.                       | ***Scenario 1***: El panel muestra alertas del día<br>**Dado** que han ocurrido eventos,<br>**Cuando** se accede al dashboard,<br>**Entonces** se muestran en orden de prioridad (rojo, naranja, verde).<br><br>***Scenario 2***: Las alertas pueden filtrarse<br>**Dado** que hay muchas,<br>**Cuando** se usa el filtro por tipo,<br>**Entonces** solo se muestran las del tipo seleccionado.                                                                                                                                                                                                                                       | EP05                      |
| US20            | Soporte multilenguaje en la aplicación móvil                | **Como** padre, **quiero** poder elegir el idioma de la aplicación, **para** comprender mejor la interfaz según mi preferencia.                                    | ***Scenario 1***: El usuario accede a configuración<br>**Dado** que la app soporta varios idiomas,<br>**Cuando** selecciona su idioma preferido,<br>**Entonces** toda la interfaz se actualiza.<br><br>***Scenario 2***: La selección se guarda<br>**Dado** que el usuario cambia el idioma,<br>**Cuando** reinicia la app,<br>**Entonces** esta debe recordar su configuración previa.                                                                                                                                                                                                                                               | EP01                      |
| US21            | Notificación de retraso del transporte                      | **Como** padre, **quiero** recibir notificaciones cuando la ruta esté retrasada, **para** poder ajustar mis tiempos de espera.                                     | ***Scenario 1***: El sistema detecta una demora significativa<br>**Dado** que la unidad se retrasa más de 10 minutos,<br>**Cuando** se confirma el retraso,<br>**Entonces** se debe notificar a todos los padres afectados con un mensaje claro y oportuno.                                                                                                                                                                                                                                                                                                                                                                           | EP01                      |
| US22            | Visualización de estudiantes con fotos por el conductor     | **Como** conductor, **quiero** ver una lista con todos los estudiantes y sus fotos, **para** identificarlos fácilmente al abordar.                                 | ***Scenario 1***: El conductor accede a la app<br>**Dado** que está logueado,<br>**Cuando** accede al viaje actual,<br>**Entonces** debe ver una lista con nombre y foto de cada estudiante.                                                                                                                                                                                                                                                                                                                                                                                                                                          | EP01                      |
| US23            | Visualización de datos del conductor por parte de padres    | **Como** padre, **quiero** conocer los datos del conductor asignado, **para** resolver dudas o emergencias relacionadas con el transporte.                         | ***Scenario 1***: El padre accede a la app<br>**Dado** que tiene un viaje asignado,<br>**Cuando** accede a la sección de información del viaje,<br>**Entonces** debe ver nombre, DNI y teléfono del conductor asignado.                                                                                                                                                                                                                                                                                                                                                                                                               | EP01                      |
| US24            | Pantalla de bienvenida personalizada                        | **Como** usuario, **quiero** ver una pantalla de bienvenida con mi nombre, **para** sentirme identificado y que la experiencia sea personalizada.                  | ***Scenario 1***: El usuario inicia sesión<br>**Dado** que es su cuenta personal,<br>**Cuando** se carga la pantalla principal,<br>**Entonces** debe verse un saludo como “Bienvenido, [nombre]”.                                                                                                                                                                                                                                                                                                                                                                                                                                     | EP01                      |
| US25            | Reporte de asistencia individual                            | **Como** administrador, **quiero** ver estadísticas de asistencia por estudiante, **para** controlar su uso del transporte.                                        | ***Scenario 1***: El administrador consulta un estudiante<br>**Dado** que está en el sistema,<br>**Cuando** accede a su historial,<br>**Entonces** ve su asistencia por fechas y porcentajes.                                                                                                                                                                                                                                                                                                                                                                                                                                         | EP02                      |
| US26            | Historial de velocidad por unidad                           | **Como** supervisor, **quiero** ver un historial de velocidad por viaje, **para** identificar malas prácticas de conducción.                                       | ***Scenario 1***: El supervisor accede al panel<br>**Dado** que hay datos registrados,<br>**Cuando** consulta por fecha o ruta,<br>**Entonces** debe ver la curva de velocidad del recorrido.                                                                                                                                                                                                                                                                                                                                                                                                                                         | EP02                      |
| US27            | Reporte mensual de control de aforo                         | **Como** administrador, **quiero** generar reportes de aforo mensual por vehículo, **para** optimizar rutas y evaluar la demanda.                                  | ***Scenario 1***: El sistema agrupa datos por mes<br>**Dado** que hay registros diarios,<br>**Cuando** se genera el reporte mensual,<br>**Entonces** debe mostrar totales, promedios y días de sobreaforo.                                                                                                                                                                                                                                                                                                                                                                                                                            | EP02                      |
| US28            | Historial detallado de rutas y ubicaciones                  | **Como** administrador, **quiero** ver un historial con las ubicaciones exactas de cada parada por viaje, **para** analizar la eficiencia.                         | ***Scenario 1***: Se consulta un viaje pasado<br>**Dado** que se tienen los datos GPS,<br>**Cuando** se abre el historial,<br>**Entonces** se debe mostrar un mapa con puntos de parada y tiempo en cada uno.                                                                                                                                                                                                                                                                                                                                                                                                                         | EP02                      |
| US29            | Resumen diario de viajes para padres                        | **Como** padre, **quiero** recibir un resumen diario del transporte de mi hijo, **para** revisar si hubo incidentes o retrasos.                                    | ***Scenario 1***: El día termina<br>**Dado** que hubo al menos un viaje,<br>**Cuando** es después de las 7:00pm,<br>**Entonces** se envía un resumen diario con detalles del trayecto.                                                                                                                                                                                                                                                                                                                                                                                                                                                | EP03                      |
| US30            | Registro manual de ausencias por el conductor               | **Como** conductor, **quiero** poder marcar manualmente a un estudiante como ausente, **para** registrar excepciones si no abordó o no tiene pulsera.              | ***Scenario 1***: El estudiante no se presenta<br>**Dado** que han pasado 5 minutos desde la hora prevista,<br>**Cuando** el conductor selecciona “marcar como ausente”,<br>**Entonces** el estudiante se marca como ausente y se omite su parada.<br><br>***Scenario 2***: El estudiante no tiene pulsera<br>**Dado** que el conductor identifica manualmente la ausencia,<br>**Cuando** selecciona la opción,<br>**Entonces** el sistema registra el evento y notifica a los padres.                                                                                                                                                | EP03                      |
| US31            | Detección automática de ausencia por el sistema             | **Como** sistema, **quiero** marcar automáticamente a un estudiante como ausente si no abordó a tiempo, **para** optimizar la ruta sin intervención manual.        | ***Scenario 1***: El tiempo máximo de espera ha pasado<br>**Dado** que el estudiante no escaneó su pulsera,<br>**Cuando** la unidad está por partir,<br>**Entonces** el sistema marca automáticamente al estudiante como ausente.<br><br>***Scenario 2***: El sistema notifica<br>**Dado** que el estudiante fue marcado como ausente automáticamente,<br>**Cuando** esto ocurra,<br>**Entonces** se debe enviar una notificación al padre.                                                                                                                                                                                           | EP04                      |
| US32            | Notificación de llegada próxima del transporte              | **Como** padre, **quiero** recibir una notificación cuando el bus esté cerca de mi ubicación, **para** prepararme para la llegada de mi hijo.                      | ***Scenario 1***: El vehículo se acerca a 500 metros<br>**Dado** que el sistema calcula la distancia a los puntos de parada,<br>**Cuando** detecta proximidad,<br>**Entonces** envía una notificación push al padre.<br><br>***Scenario 2***: El vehículo se detiene brevemente<br>**Dado** que el GPS muestra detención a 0 km/h,<br>**Cuando** permanece detenido más de 2 minutos,<br>**Entonces** se notifica también al padre que el transporte está "esperando en el punto".                                                                                                                                                    | EP01                      |
| US33            | Activación de modo emergencia en la app de conductor        | **Como** conductor, **quiero** activar un botón de emergencia en la app, **para** notificar incidentes durante el trayecto.                                        | ***Scenario 1***: Activación manual de emergencia<br>**Dado** que el conductor enfrenta un incidente,<br>**Cuando** presiona el botón,<br>**Entonces** se genera una alerta visible para el administrador.<br><br>***Scenario 2***: Confirmación posterior<br>**Dado** que la emergencia ha pasado,<br>**Cuando** el conductor desactiva el modo,<br>**Entonces** el sistema registra el cierre del evento y envía notificación de actualización.                                                                                                                                                                                     | EP03                      |
| US34            | Confirmación de llegada del estudiante por parte del padre  | **Como** padre, **quiero** confirmar que mi hijo llegó a su destino, **para** cerrar el ciclo de viaje de manera segura.                                           | ***Scenario 1***: Confirmación manual<br>**Dado** que la app muestra una notificación de llegada,<br>**Cuando** el padre abre la app,<br>**Entonces** puede marcar “Llegó a casa” y se registra en el sistema.<br><br>***Scenario 2***: Confirmación automática<br>**Dado** que el GPS detecta llegada a casa,<br>**Cuando** se valida la ubicación,<br>**Entonces** el sistema sugiere marcar confirmación automática (opcional).                                                                                                                                                                                                    | EP01                      |
| US35            | Activar modo “No molestar” en app de padres                 | **Como** padre, **quiero** activar un modo “No molestar”, **para** pausar las notificaciones fuera del horario de transporte escolar.                              | ***Scenario 1***: Activación manual<br>**Dado** que el usuario accede a Configuración,<br>**Cuando** activa "No Molestar",<br>**Entonces** no recibe notificaciones no críticas.<br><br>***Scenario 2***: Desactivación automática<br>**Dado** que inicia el horario de transporte,<br>**Cuando** llega la hora programada,<br>**Entonces** el "No Molestar" se desactiva automáticamente si así está configurado.<br><br>***Scenario 3***: Excepciones críticas<br>**Dado** que hay una emergencia,<br>**Cuando** ocurre,<br>**Entonces** se debe permitir que las alertas de emergencia pasen a pesar del "No Molestar".            | EP01                      |
| US36            | Visualización de KPIs de transporte escolar                 | **Como** administrador, **quiero** ver indicadores clave de desempeño (KPIs) como puntualidad y aforo promedio, **para** evaluar el servicio de transporte.        | ***Scenario 1***: Acceso al panel de KPIs<br>**Dado** que el admin inicia sesión,<br>**Cuando** entra al panel,<br>**Entonces** puede ver KPIs como puntualidad, exceso de velocidad y cumplimiento de ruta.<br><br>***Scenario 2***: Filtrado de KPIs por vehículo o ruta<br>**Dado** que se selecciona una unidad o ruta específica,<br>**Cuando** se aplica el filtro,<br>**Entonces** el dashboard muestra datos únicamente de esa selección.<br><br>***Scenario 3***: Exportación de KPIs<br>**Dado** que el usuario desea guardar datos,<br>**Cuando** pulsa "Exportar KPIs",<br>**Entonces** se genera un reporte Excel o PDF. | EP05                      |
| US37            | Gestión dinámica de paradas desde panel web                 | **Como** administrador, **quiero** agregar, modificar o eliminar paradas de rutas, **para** ajustar la logística de transporte escolar fácilmente.                 | ***Scenario 1***: Agregar parada nueva<br>**Dado** que se requiere una nueva ubicación,<br>**Cuando** el admin agrega una parada,<br>**Entonces** esta se vincula automáticamente a la ruta correspondiente.<br><br>***Scenario 2***: Modificar ubicación de parada<br>**Dado** que una parada cambia de lugar,<br>**Cuando** se actualiza,<br>**Entonces** los mapas y rutas deben reflejar la nueva ubicación.<br><br>***Scenario 3***: Eliminar parada<br>**Dado** que ya no se necesita una parada,<br>**Cuando** el admin la elimina,<br>**Entonces** la ruta debe recalcularse automáticamente.                                 | EP05                      |
| US38            | Asignación manual de estudiantes a rutas específicas        | **Como** administrador, **quiero** asignar estudiantes a rutas y horarios manualmente, **para** organizar mejor el transporte.                                     | ***Scenario 1***: Asignar estudiante a ruta<br>**Dado** que el admin accede al panel de estudiantes,<br>**Cuando** selecciona un estudiante,<br>**Entonces** puede asignarlo a una ruta y horario.<br><br>***Scenario 2***: Cambiar estudiante de ruta<br>**Dado** que un estudiante necesita otra ruta,<br>**Cuando** el admin lo reasigna,<br>**Entonces** la nueva asignación queda vigente para los próximos viajes.<br><br>***Scenario 3***: Reportar cambios de ruta<br>**Dado** que hay cambios recientes,<br>**Cuando** un padre consulta la app,<br>**Entonces** debe ver actualizada la asignación de su hijo.              | EP05                      |
| US39            | Implementación de backup automático diario de datos         | **Como** desarrollador, **quiero** configurar backups automáticos diarios de la base de datos, **para** prevenir pérdida de información importante del sistema.    | ***Scenario 1***: Creación de backup automático<br>**Dado** que pasa un día calendario,<br>**Cuando** llega la hora configurada,<br>**Entonces** se realiza un backup completo.<br><br>***Scenario 2***: Notificación de backup exitoso<br>**Dado** que el backup se genera,<br>**Cuando** finaliza correctamente,<br>**Entonces** se registra un log y se envía notificación al administrador.<br><br>***Scenario 3***: Error de backup<br>**Dado** que el backup falla,<br>**Cuando** ocurre un error,<br>**Entonces** el sistema debe registrar el error y enviar una alerta crítica.                                              | EP04                      |
| US40            | Implementación de logging de eventos críticos en el sistema | **Como** desarrollador, **quiero** registrar eventos críticos (fallos, desconexiones, errores GPS), **para** facilitar la auditoría y corrección de errores.       | ***Scenario 1***: Registro de desconexión de GPS<br>**Dado** que se pierde la señal,<br>**Cuando** ocurre una desconexión,<br>**Entonces** se registra automáticamente en los logs.<br><br>***Scenario 2***: Registro de fallos de lectura RFID<br>**Dado** que falla un escaneo RFID,<br>**Cuando** ocurre el error,<br>**Entonces** se almacena en los logs.<br><br>***Scenario 3***: Consulta de logs<br>**Dado** que un desarrollador accede a la consola,<br>**Cuando** consulta el log,<br>**Entonces** debe poder ver detalles de fecha, hora, tipo de error.                                                                  | EP04                      |
| US41            | Ejecución de pruebas de carga para validar escalabilidad    | **Como** desarrollador, **quiero** realizar pruebas de carga en el backend, **para** asegurar que el sistema soporte múltiples solicitudes simultáneamente.        | ***Scenario 1***: Prueba de carga estándar<br>**Dado** que se envían 500 solicitudes concurrentes,<br>**Cuando** se ejecuta la prueba,<br>**Entonces** el sistema debe mantenerse operativo.<br><br>***Scenario 2***: Degradación controlada<br>**Dado** que la carga supera la capacidad,<br>**Cuando** ocurre saturación,<br>**Entonces** el sistema debe registrar la degradación y enviar alertas.<br><br>***Scenario 3***: Análisis de tiempos de respuesta<br>**Dado** que se realiza una prueba de carga,<br>**Cuando** finaliza,<br>**Entonces** se debe generar un reporte con tiempos promedio y máximos de respuesta.      | EP04                      |
| US42            | Personalización de notificaciones por tipo                  | **Como** padre, **quiero** personalizar qué tipos de notificaciones deseo recibir, **para** ajustar la información que recibo según mi interés.                    | ***Scenario 1***: Activar/desactivar tipos de notificación<br>**Dado** que el padre entra a configuración,<br>**Cuando** marca/desmarca tipos (subida, bajada, retraso),<br>**Entonces** el sistema respeta esa selección.<br><br>***Scenario 2***: Cambio en las preferencias<br>**Dado** que modifica su configuración,<br>**Cuando** guarda,<br>**Entonces** la nueva configuración entra en efecto inmediata.<br><br>***Scenario 3***: Restaurar preferencias<br>**Dado** que el usuario desea restaurar todo,<br>**Cuando** pulsa “Restaurar por defecto”,<br>**Entonces** todos los tipos quedan activados.                     | EP01                      |
| US43            | Visualización de estado de los estudiantes en tiempo real   | **Como** conductor, **quiero** ver el estado actual de cada estudiante (a bordo, bajado, ausente), **para** gestionar el viaje con precisión.                      | ***Scenario 1***: Estado inicial<br>**Dado** que inicia la ruta,<br>**Cuando** los estudiantes suben,<br>**Entonces** su estado cambia a "a bordo".<br><br>***Scenario 2***: Registro de bajada<br>**Dado** que un estudiante baja del vehículo,<br>**Cuando** su RFID se escanea,<br>**Entonces** su estado cambia a "bajado".<br><br>***Scenario 3***: Ausente no escaneado<br>**Dado** que un estudiante no subió en su parada,<br>**Cuando** pasa el tiempo de espera,<br>**Entonces** el sistema lo marca como "ausente".                                                                                                        | EP03                      |
| US44            | Registro de incidentes por parte de los padres              | **Como** padre, **quiero** reportar incidentes o comentarios sobre el transporte, **para** contribuir a la mejora continua del servicio.                           | ***Scenario 1***: Acceso al módulo de incidentes<br>**Dado** que el padre tiene la app,<br>**Cuando** accede al menú de incidentes,<br>**Entonces** puede escribir un comentario.<br><br>***Scenario 2***: Registro exitoso<br>**Dado** que el comentario fue enviado,<br>**Cuando** se recibe,<br>**Entonces** se almacena en el backend y se notifica al administrador.<br><br>***Scenario 3***: Confirmación visual<br>**Dado** que el padre registra un incidente,<br>**Cuando** se envía,<br>**Entonces** ve una confirmación visual de éxito.                                                                                   | EP01                      |
| US45            | Visualización del historial de incidentes en el panel web   | **Como** administrador, **quiero** consultar el historial de incidentes reportados, **para** evaluar problemas y tomar medidas preventivas.                        | ***Scenario 1***: Acceso a historial<br>**Dado** que un admin entra al sistema,<br>**Cuando** selecciona "Historial de incidentes",<br>**Entonces** ve una lista filtrable por fecha, ruta y gravedad.<br><br>***Scenario 2***: Visualizar detalles<br>**Dado** que selecciona un incidente,<br>**Cuando** hace clic,<br>**Entonces** puede ver descripción, fecha, responsable y acción tomada.<br><br>***Scenario 3***: Exportar historial<br>**Dado** que el admin desea analizar,<br>**Cuando** exporta el historial,<br>**Entonces** se genera un reporte Excel o PDF.                                                           | EP05                      |
| US46            | Asignación de conductores a rutas específicas               | **Como** administrador, **quiero** asignar conductores a rutas específicas desde el panel web, **para** mantener la organización del servicio de transporte.       | ***Scenario 1***: Asignar conductor<br>**Dado** que hay rutas disponibles,<br>**Cuando** selecciona un conductor,<br>**Entonces** puede asignarlo a una o más rutas.<br><br>***Scenario 2***: Modificación de asignación<br>**Dado** que un conductor debe cambiar de ruta,<br>**Cuando** edita la asignación,<br>**Entonces** la nueva ruta queda activa.<br><br>***Scenario 3***: Visualización de asignaciones<br>**Dado** que accede al perfil del conductor,<br>**Cuando** consulta,<br>**Entonces** ve su historial de rutas asignadas.                                                                                         | EP05                      |
| US47            | Gestión de vehículos en el sistema                          | **Como** administrador, **quiero** agregar, actualizar o eliminar vehículos del sistema, **para** mantener actualizada la flota.                                   | ***Scenario 1***: Agregar vehículo<br>**Dado** que se adquiere una nueva unidad,<br>**Cuando** el admin la registra,<br>**Entonces** aparece disponible para asignaciones.<br><br>***Scenario 2***: Editar datos de vehículo<br>**Dado** que cambian los datos (placa, modelo),<br>**Cuando** actualiza,<br>**Entonces** la información se guarda correctamente.<br><br>***Scenario 3***: Dar de baja vehículo<br>**Dado** que se retira un vehículo,<br>**Cuando** lo elimina,<br>**Entonces** ya no puede ser asignado a nuevas rutas.                                                                                              | EP05                      |
| US48            | Implementación de sistema propio de notificaciones internas | **Como** desarrollador, **quiero** implementar un sistema propio de notificaciones push internas, **para** gestionar avisos directamente desde el backend.         | ***Scenario 1***: Generar notificación<br>**Dado** que ocurre un evento (retraso, subida, bajada),<br>**Cuando** se crea una notificación,<br>**Entonces** se almacena en la base de datos.<br><br>***Scenario 2***: Consulta de notificaciones<br>**Dado** que el usuario accede a su bandeja,<br>**Cuando** abre la sección de notificaciones,<br>**Entonces** ve todos los mensajes recientes.<br><br>***Scenario 3***: Notificación prioritaria<br>**Dado** que ocurre un evento crítico,<br>**Cuando** se genera,<br>**Entonces** se muestra en prioridad en la app móvil.                                                       | EP04                      |
| US49            | Recuperación de contraseña por correo electrónico           | **Como** usuario, **quiero** poder recuperar mi contraseña mediante correo electrónico, **para** restablecer el acceso a mi cuenta en caso de olvido.              | ***Scenario 1***: Solicitud de recuperación<br>**Dado** que olvidó su contraseña,<br>**Cuando** solicita recuperar,<br>**Entonces** recibe un correo con un enlace seguro.<br><br>***Scenario 2***: Restablecimiento de contraseña<br>**Dado** que recibe el enlace,<br>**Cuando** accede,<br>**Entonces** puede ingresar una nueva contraseña.<br><br>***Scenario 3***: Validación de token expirado<br>**Dado** que pasa más de 15 minutos,<br>**Cuando** intenta acceder,<br>**Entonces** se rechaza por expiración del token.                                                                                                     | EP04                      |
| US50            | Monitoreo de disponibilidad de servicios críticos           | **Como** desarrollador, **quiero** monitorear la disponibilidad de los servicios backend, **para** detectar caídas o fallos de sistema a tiempo.                   | ***Scenario 1***: Verificación de servicios<br>**Dado** que hay servicios backend activos,<br>**Cuando** se realiza un check automático cada X minutos,<br>**Entonces** se registra su estado (OK/Error).<br><br>***Scenario 2***: Notificación de caída<br>**Dado** que un servicio falla,<br>**Cuando** se detecta caída,<br>**Entonces** se envía un correo o alerta interna al administrador.<br><br>***Scenario 3***: Historial de disponibilidad<br>**Dado** que el admin consulta,<br>**Cuando** entra a la sección de health checks,<br>**Entonces** puede ver histórico de uptime y downtime.                                | EP04                      |
| US51            | Automatización de despliegues backend con CI/CD             | **Como** desarrollador, **quiero** automatizar los despliegues del backend usando pipelines CI/CD, **para** asegurar implementaciones rápidas y seguras.           | ***Scenario 1***: Pipeline de construcción<br>**Dado** que se hace push a `main`,<br>**Cuando** se ejecuta el pipeline,<br>**Entonces** se compila el proyecto automáticamente.<br><br>***Scenario 2***: Pipeline de pruebas<br>**Dado** que hay pruebas unitarias configuradas,<br>**Cuando** se ejecuta el pipeline,<br>**Entonces** se corren las pruebas y se valida que pasen.<br><br>***Scenario 3***: Despliegue automático<br>**Dado** que todo es exitoso,<br>**Cuando** se completa el pipeline,<br>**Entonces** el sistema se despliega en producción sin intervención manual.                                             | EP04                      |

## 3.3. Impact Mapping.

![toBePropietario](/assets/chapter3/impactMap2025.PNG)

## 3.4. Product Backlog.

El Product Backlog es una lista priorizada de todas las funcionalidades, mejoras y tareas necesarias para el desarrollo de un producto o servicio. En esta sección, presentaremos nuestro Product Backlog, que incluye todas las historias de usuario identificadas en la sección anterior, así como otras tareas y actividades necesarias para el desarrollo.

###### Tabla de Product Backlog
| # Order | User Story Id | Title                                             | Description                                                                                 | Story Points (1 / 2 / 3 / 5 / 8) |
|---------|---------------|---------------------------------------------------|---------------------------------------------------------------------------------------------|----------------------------------|
| 1       | US02          | Registro automático mediante pulseras RFID        | Como conductor, quiero registrar asistencia automáticamente con RFID.                       | 5                                |
| 2       | US03          | Notificación a padres por ingreso/salida          | Como padre, quiero recibir alertas cuando mi hijo sube o baja del transporte.               | 2                                |
| 3       | US04          | Visualización de ubicación en tiempo real         | Como padre, quiero ver en un mapa la ubicación en tiempo real del vehículo.                 | 3                                |
| 4       | US05          | Control de aforo con sensores                     | Como administrador, quiero conocer la cantidad de pasajeros en tiempo real.                 | 3                                |
| 5       | US06          | Registro de velocidad y alertas                   | Como administrador, quiero registrar y visualizar excesos de velocidad.                     | 5                                |
| 6       | US07          | Panel de control web para instituciones           | Como administrador, quiero tener un sitio web con reportes de uso.                          | 5                                |
| 7       | US08          | Lista de estudiantes a bordo para conductor       | Como conductor, quiero ver qué estudiantes están actualmente en la unidad.                  | 2                                |
| 8       | US09          | Historial de viajes en app de padres              | Como padre, quiero revisar cuándo y por qué rutas viajó mi hijo.                            | 3                                |
| 9       | US01          | Interfaz de inicio en aplicación móvil            | Como usuario, quiero una introducción visual clara al sistema.                              | 2                                |
| 10      | US10          | Reportes automáticos de asistencia y uso          | Como sistema, quiero generar reportes automáticos y enviarlos.                              | 5                                |
| 11      | US11          | Integración del lector RFID al backend            | Como desarrollador, quiero integrar el lector RFID con la base de datos en tiempo real.     | 5                                |
| 12      | US12          | API REST para comunicación app-backend            | Como desarrollador, quiero que la app consuma datos del backend con seguridad.              | 3                                |
| 13      | US13          | Autenticación con JWT                             | Como desarrollador, quiero implementar JWT para proteger el acceso de usuarios.             | 3                                |
| 14      | US14          | Almacenamiento en base geoespacial                | Como desarrollador, quiero guardar coordenadas GPS en base de datos espacial.               | 5                                |
| 15      | US15          | Visualización y comparación de rutas predefinidas | Como desarrollador, quiero comparar rutas reales vs predefinidas para detectar desvíos.     | 5                                |
| 16      | US16          | Modificación manual de ruta por conductor         | Como conductor, quiero cambiar manualmente la ruta si hay desvíos o tráfico.                | 3                                |
| 17      | US17          | Marcar estudiantes ausentes desde la app          | Como conductor, quiero marcar ausencias desde la app para optimizar el trayecto.            | 2                                |
| 18      | US18          | Acceso con roles en el panel web                  | Como desarrollador, quiero controlar el acceso según el rol del usuario.                    | 3                                |
| 19      | US19          | Resumen de alertas en panel web                   | Como administrador, quiero ver alertas importantes agrupadas y ordenadas.                   | 3                                |
| 20      | US20          | Soporte multilenguaje en app móvil                | Como padre, quiero cambiar el idioma de la aplicación según mi preferencia.                 | 2                                |
